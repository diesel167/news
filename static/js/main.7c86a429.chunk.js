(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{28:function(e,t,a){e.exports=a(88)},33:function(e,t,a){},34:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),s=(a(33),a(34),a(6)),o=a(5),i=a.n(o),u=i.a.create({baseURL:"https://api.sypexgeo.net/",responseType:"json"}),m=a(3);var d=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(m.c)((function(e){return e.city})),o=Object(m.c)((function(e){return e.country})),i=Object(m.b)();Object(n.useEffect)((function(){a&&(c(!1),u.get("/").then((function(e){i({type:"COORDINATES",payload:{lat:e.data.country.lat,lon:e.data.country.lon}}),i({type:"CITY",payload:e.data.country.capital_ru}),i({type:"COUNTRY",payload:e.data.country.name_ru})})))}),[a,i]);var d=r.a.createElement("div",null,"It will be the weather at your city");return l&&o&&(d="\u0421\u0435\u0439\u0447\u0430\u0441 \u0432 ".concat(l,", ").concat(o,":\xa0")),r.a.createElement("div",{className:"user-data"},d)},p=i.a.create({baseURL:"https://api.weatherbit.io/v2.0/current",responseType:"json"});a(58);var b=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.coordinates})),a=Object(m.c)((function(e){return e.temperature})),c=(new DOMParser).parseFromString("<!doctype html><body>\t&#176;","text/html").body.textContent;return Object(n.useEffect)((function(){t&&p.get("/?lat=".concat(t.lat,"&lon=").concat(t.lon,"&key=e50813fb6b9044cf98685ba2d687c329")).then((function(t){e({type:"TEMPERATURE",payload:t.data.data[0].temp})}))})),r.a.createElement("div",{className:"weather"},a?"".concat(a).concat(c):"")},y=a(11),E=i.a.create({baseURL:"https://cors-anywhere.herokuapp.com/https://news.tut.by/rss/",responseType:"xml"});a(59);var f=function(){var e=Object(m.c)((function(e){return e.news})),t=Object(m.c)((function(e){return e.showList})),a=[];return e&&e.map((function(e,n){if(n<t.end&&n>=t.begin&&e.getElementsByTagName("enclosure")[0]){var c=e.getElementsByTagName("enclosure")[0].getAttribute("url");"mp4"===c.slice(-3)&&(c=Object(y.a)(e.getElementsByTagName("media:content")).filter((function(e){return"mp4"!==e.getAttribute("url").slice(-3)}))[0].getAttribute("url")),a.push(r.a.createElement("div",{className:"news-item",key:String(Symbol(n))},r.a.createElement("a",{className:"link",href:e.getElementsByTagName("link")[0].innerHTML},r.a.createElement("img",{className:"image",src:c,alt:"Article visual content"}),r.a.createElement("div",{className:"title"},e.getElementsByTagName("title")[0].innerHTML))))}return 1})),r.a.createElement(r.a.Fragment,null,a.concat(""))};var v=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.url}));return Object(n.useEffect)((function(){E.get(t).then((function(t){var a=(new DOMParser).parseFromString(t.data,"text/xml"),n=Object(y.a)(a.getElementsByTagName("item"));e({type:"NEWS",payload:n})}))}),[t,e]),r.a.createElement("div",{className:"news"},r.a.createElement(f,null))};var g=function(){var e=new DOMParser,t=e.parseFromString("<!doctype html><body>\t&#171;","text/html").body.textContent,a=e.parseFromString("<!doctype html><body>\t&#187;","text/html").body.textContent,c=Object(m.b)(),l=Object(m.c)((function(e){return e.news})),o=0;l&&(o=Math.ceil(l.length/12));var i=Object(n.useState)(1),u=Object(s.a)(i,2),d=u[0],p=u[1],b=function(e){if("number"===typeof e){var t=12*e-12,a=12*e>l.length?l.length:12*e;c({type:"CHANGE_SHOWING",payload:{begin:t,end:a}}),p(e)}else{var n=12*e.target.innerHTML-12,r=12*e.target.innerHTML>l.length?l.length:12*e.target.innerHTML;c({type:"CHANGE_SHOWING",payload:{begin:n,end:r}}),p(e.target.innerHTML)}};return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"btn",onClick:function(){return b(1)}},t),function(){var e,t=[];(d<=3||o<=5)&&(e=1),d>3&&o>5&&d<=o-2&&(e=d-2),d>3&&o>5&&d>o-2&&(e=o-4);for(var a=e;a<=e+4;a++){var n="";a<=o&&(n=r.a.createElement("div",{key:o*a,className:"btn",onClick:b},a)),+a===+d&&(n=r.a.createElement("div",{key:o*a,className:"btn",style:{color:"white"},onClick:b},a)),t.push(n)}return t}(),"| of ",o,r.a.createElement("div",{className:"btn",onClick:function(){return b(o)}},a))};a(60);function h(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"News data have been recieved from ",r.a.createElement("a",{href:"https://www.tut.by/"},"TUT.BY")," RSS"),r.a.createElement("p",null,"Develeoped by ",r.a.createElement("a",{href:"https://www.linkedin.com/in/yury-misiyevich"},"Yury Misiyevich")))}var N=a(26);a(86);var w=function(){var e=Object(m.b)(),t=Object(n.useState)("lastNews"),a=Object(s.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){e("mainNews"===c?{type:"CHANGE_URL",payload:"/index.rss"}:{type:"CHANGE_URL",payload:"/all.rss"})}),[c,e]),r.a.createElement("div",{className:"news-toggler"},r.a.createElement("p",{className:"choose-news"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"),r.a.createElement("div",{className:"switch-wrapper"},r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",onChange:function(){l("mainNews"===c?"lastNews":"mainNews")}}),r.a.createElement("span",{className:"slider round"}))),r.a.createElement("p",{className:"choose-news"},"\u0413\u043b\u0430\u0432\u043d\u044b\u0435 \u043d\u043e\u0432\u043e\u0441\u0442\u0438"))};a(87);var O=function(){var e=Object(m.c)((function(e){return e.news}));return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"logo"},"news."),r.a.createElement(d,null),r.a.createElement(b,null)),r.a.createElement(w,null)),r.a.createElement(v,null),r.a.createElement("div",{className:"loader ".concat(e?"hide":"")},r.a.createElement(N.RingLoader,{color:"#123abc",loading:!e})),r.a.createElement(g,null),r.a.createElement(h,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(10),T={city:null,country:null,coordinates:null,temperature:null,news:null,showList:{begin:0,end:12},url:"/all.rss"};var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CITY":return Object.assign({},e,{city:t.payload});case"COUNTRY":return Object.assign({},e,{country:t.payload});case"COORDINATES":return Object.assign({},e,{coordinates:t.payload});case"TEMPERATURE":return Object.assign({},e,{temperature:t.payload});case"NEWS":return Object.assign({},e,{news:t.payload});case"CHANGE_SHOWING":return Object.assign({},e,{showList:t.payload});case"CHANGE_URL":return Object.assign({},e,{url:t.payload});default:return e}},S=Object(j.b)(C);l.a.render(r.a.createElement(m.a,{store:S},r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.7c86a429.chunk.js.map